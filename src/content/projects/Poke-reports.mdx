---
title: "ğŸ“Š Proyecto PokeQueue - Reportes Inteligentes con Azure"
description: "GeneraciÃ³n y gestiÃ³n de reportes de PokÃ©mon con arquitectura serverless y procesamiento en la nube usando Azure Functions, FastAPI, Blob Storage y Terraform."
imagen: "/Proyecto PokeQueue/Diagrama Arquitectura.PNG"
href: "/pokequeue"

imagenes:
  - "/assets/Proyecto PokeQueue/Diagrama Arquitectura.PNG"
  - "/assets/Proyecto PokeQueue/front.PNG"
  - "/assets/Proyecto PokeQueue/FOTO 3.PNG"
---

## DescripciÃ³n General

PokeQueue es una soluciÃ³n completa para la generaciÃ³n de reportes de PokÃ©mon basada en arquitecturas modernas y escalables. El sistema permite seleccionar un tipo de PokÃ©mon, generar reportes enriquecidos y almacenarlos automÃ¡ticamente en la nube. Esta plataforma fue diseÃ±ada como parte de un reto acadÃ©mico para aplicar buenas prÃ¡cticas de desarrollo web moderno, computaciÃ³n en la nube y automatizaciÃ³n con infraestructura como cÃ³digo.

---

## ğŸ— Arquitectura Utilizada

El proyecto sigue una arquitectura distribuida basada en eventos:

1. **Frontend (Next.js):** Interfaz para seleccionar el tipo de PokÃ©mon y disparar el proceso.
2. **API Backend (FastAPI):** Encargada de crear registros, responder peticiones y manejar estados de los reportes.
3. **Azure Queue Storage:** Cola que dispara automÃ¡ticamente una Azure Function al recibir un nuevo reporte.
4. **Azure Function:** Se conecta a la PokeAPI, enriquece los datos, genera el CSV y lo almacena.
5. **Azure Blob Storage:** Guarda el reporte CSV para descarga pÃºblica.
6. **Azure SQL Database:** Guarda el estado y la metadata de los reportes.
7. **Terraform:** Gestiona y despliega toda la infraestructura sobre Azure.

## ğŸš€ Funcionalidades Implementadas

### âœ… EliminaciÃ³n de Reportes

- Se agregÃ³ un botÃ³n de eliminar en el frontend.
- El backend valida la existencia del reporte, elimina el CSV en Blob Storage y luego el registro en SQL.
- Implementa control de errores para evitar inconsistencias.

### âœ… Enriquecimiento del Reporte

- El Worker Azure Function ahora obtiene estadÃ­sticas completas de cada PokÃ©mon: HP, Ataque, Defensa, Velocidad, etc.
- TambiÃ©n extrae las habilidades y las concatena en una celda legible para anÃ¡lisis.

### âœ… Muestreo Aleatorio

- El usuario puede especificar un nÃºmero mÃ¡ximo de registros (`sample_size`).
- Si se define, la Azure Function usa `random.sample()` para limitar el tamaÃ±o del reporte de forma aleatoria y eficiente.

---

## ğŸ§© DesafÃ­os y Soluciones

- ğŸ”„ **IntegraciÃ³n entre FastAPI y Azure Function:** Resolver el traspaso de parÃ¡metros como `sample_size` entre capas.
- âš ï¸ **Errores de red WSL2 con Docker y Azure CLI:** Se resolvieron con reinicios controlados, reseteo de redes y uso de `SCOPE_IDENTITY()` en SQL.
- ğŸ§  **ValidaciÃ³n de tipos entre JSON, SQL y Python:** Se usaron `Pydantic`, conversiÃ³n explÃ­cita a `int`, y logs para evitar errores silenciosos.
- ğŸ“¤ **AutenticaciÃ³n de subida a Blob Storage:** Se gestionÃ³ con credenciales almacenadas en `.env` y seguras con Azure Portal.

---

## ğŸ“ Repositorios de CÃ³digo Fuente

- ğŸ”§ **Infraestructura Terraform**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.terraform.git)

- ğŸ¯ **Frontend en Next.js**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.ui.git)

- ğŸ§  **Backend FastAPI**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.queue.api.git)

- âš™ï¸ **Azure Function (Worker)**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.functionApp.git)

- ğŸ›¢ **Scripts SQL**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.queue.sql.git)

---

## ğŸŒ Enlaces al Sistema Desplegado

- ğŸ–¥ï¸ **Interfaz Web (UI):**  
  [https://ui-pokequeue-dev-ijul.azurewebsites.net](https://ui-pokequeue-dev-ijul.azurewebsites.net)

- ğŸ”Œ **API FastAPI:**  
  [https://api-pokequeue-dev-ijul.azurewebsites.net](https://api-pokequeue-dev-ijul.azurewebsites.net)

---

## ğŸ“¦ TecnologÃ­as utilizadas

- âš›ï¸ Next.js
- ğŸ FastAPI
- â˜ï¸ Azure Functions
- ğŸ—ƒ Azure Blob Storage
- ğŸ˜ Azure SQL Database
- ğŸ“¬ Azure Queue Storage
- ğŸ”§ Terraform
- ğŸ³ Docker

---
