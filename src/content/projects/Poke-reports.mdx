---
title: "ğŸ“Š Proyecto PokeQueue - Reportes Inteligentes con Azure"
description: "GeneraciÃ³n y gestiÃ³n de reportes de PokÃ©mon con arquitectura serverless y procesamiento en la nube usando Azure Functions, FastAPI, Blob Storage y Terraform."
imagen: "/Proyecto PokeQueue/Diagrama Arquitectura.PNG"
href: "/pokequeue"

imagenes:
  - "/assets/Proyecto PokeQueue/Diagrama Arquitectura.PNG"
  - "/assets/Proyecto PokeQueue/front.PNG"
  - "/assets/Proyecto PokeQueue/FOTO 3.PNG"
---

## DescripciÃ³n General

Este proyecto es una soluciÃ³n continuada a un proyecto, en el cual tuve que llevar a prÃ¡ctica los conceptos antes visto sobre Queue Storage, Serverles para tener un proceso asincrono sobre generaciÃ³n de reportes enriquecidos de Pokemones y almacenarlos automaticamente en la nube en este caso en Azure.

---

## ğŸ— Arquitectura Utilizada

El proyecto sigue una arquitectura distribuida basada en eventos:

1. **Frontend (Next.js):** Interfaz para seleccionar el tipo de PokÃ©mon y disparar el proceso.
2. **API Backend (FastAPI):** Encargada de crear registros, responder peticiones y manejar estados de los reportes.
3. **Azure Queue Storage:** Cola que dispara automÃ¡ticamente una Azure Function al recibir un nuevo reporte.
4. **Azure Function:** Se conecta a la PokeAPI, enriquece los datos, genera el CSV y lo almacena.
5. **Azure Blob Storage:** Guarda el reporte CSV para descarga pÃºblica.
6. **Azure SQL Database:** Guarda el estado y la metadata de los reportes.
7. **Terraform:** Gestiona y despliega toda la infraestructura sobre Azure.

## ğŸš€ Funcionalidades Implementadas

### âœ… EliminaciÃ³n de Reportes

- Se agregÃ³ un botÃ³n de eliminar en el frontend.
- El backend valida la existencia del reporte, elimina el CSV en Blob Storage y luego el registro en SQL.
- Implementa control de errores para evitar inconsistencias.

### âœ… Enriquecimiento del Reporte

- La Azure Function ahora obtiene estadÃ­sticas completas de cada PokÃ©mon: HP, Ataque, Defensa, Velocidad, etc provenientes de la PokeAPI.
- TambiÃ©n extrae las habilidades para poder guardarlas en un CSV.

### âœ… Muestreo Aleatorio

- El usuario puede especificar un nÃºmero mÃ¡ximo de registros (sample_size).
- Si se define, la Azure Function usa random.sample() para limitar el tamaÃ±o del reporte de forma aleatoria y eficiente.
- Si no se especifica entonces trae todos los registros un tipo de pokemon.

---

## ğŸ§© DesafÃ­os y Soluciones

- ğŸ§± Lograr que todos los componentes se comuniquen correctamente: Uno de los mayores retos fue conseguir que el frontend en Next.js, la API con FastAPI, la Azure Function y la base de datos trabajaran de forma fluida. Tuve que probar mÃºltiples flujos de datos y ajustar detalles como el envÃ­o del sample_size y la generaciÃ³n dinÃ¡mica de los reportes.

- ğŸš€ Aprender e implementar recursos nuevos como Azure Queue y Functions: Era la primera vez que usaba Azure Queue Storage y Azure Functions en conjunto. Entender cÃ³mo se disparaban los procesos en segundo plano y cÃ³mo manejar errores de red o fallos silenciosos me tomÃ³ bastante prueba y error, pero al final logrÃ© automatizar todo el proceso de generaciÃ³n de reportes.

---

## ğŸ“ Repositorios de CÃ³digo Fuente

- ğŸ”§ **Infraestructura Terraform**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.terraform.git)

- ğŸ¯ **Frontend en Next.js**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.ui.git)

- ğŸ§  **Backend FastAPI**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.queue.api.git)

- âš™ï¸ **Azure Function (Worker)**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.functionApp.git)

- ğŸ›¢ **Scripts SQL**  
  [ğŸ‘‰ GitHub](https://github.com/sosa22001/poke.queue.sql.git)

---

## ğŸŒ Enlaces al Sistema Desplegado

- ğŸ–¥ï¸ **Interfaz Web (UI):**  
  [https://ui-pokequeue-dev-ijul.azurewebsites.net](https://ui-pokequeue-dev-ijul.azurewebsites.net)

- ğŸ”Œ **API FastAPI:**  
  [https://api-pokequeue-dev-ijul.azurewebsites.net](https://api-pokequeue-dev-ijul.azurewebsites.net)

---

## ğŸ“¦ TecnologÃ­as utilizadas

- âš›ï¸ Next.js
- ğŸ FastAPI
- â˜ï¸ Azure Functions
- ğŸ—ƒ Azure Blob Storage
- ğŸ˜ Azure SQL Database
- ğŸ“¬ Azure Queue Storage
- ğŸ”§ Terraform
- ğŸ³ Docker

---
